(this.webpackJsonpwallaby=this.webpackJsonpwallaby||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/bork.2b1c8b36.gif"},20:function(e,t,n){e.exports=n.p+"static/media/diemz.4f16c0f8.gif"},21:function(e,t,n){e.exports=n.p+"static/media/empty.bce677d0.gif"},22:function(e,t,n){e.exports=n.p+"static/media/friendship.f339e60f.gif"},23:function(e,t,n){e.exports=n.p+"static/media/greetings.b9200209.gif"},24:function(e,t,n){e.exports=n.p+"static/media/hiphop.c8a7d619.gif"},25:function(e,t,n){e.exports=n.p+"static/media/travel.f9a41121.gif"},26:function(e,t,n){e.exports=n.p+"static/media/wallaby.e83a4f50.gif"},32:function(e,t,n){e.exports=n(63)},37:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),i=n.n(r),o=(n(37),n(7)),s=n(3),u=function(e){var t=e.children,n=e.onClick;return c.a.createElement("button",{type:"button",className:"button",onClick:n},t)},l=n(19),m=n.n(l),f=n(20),p=n.n(f),d=n(21),b=n.n(d),O=n(22),h=n.n(O),E=n(23),g=n.n(E),j=n(24),y=n.n(j),v=n(25),w=n.n(v),S=n(26),x=n.n(S),N=[m.a,p.a,b.a,h.a,g.a,y.a,w.a,x.a],k=function(){return c.a.createElement("img",{className:"sidey",src:N[Math.floor(Math.random()*N.length)],alt:"waiting for user input..."})},C=n(31),M=n(27),T=function(e){var t=e.distance;return c.a.createElement(M.a,{value:t,displayType:"text",suffix:"ly",decimalScale:2})},z=function(e){var t=e.name,n=e.x,a=e.y,r=e.z,i=e.isOrigin,o=e.distance,s=Object(C.a)(e,["name","x","y","z","isOrigin","distance"]);return c.a.createElement("div",Object.assign({className:"System"},s),c.a.createElement("span",{className:"system-name"},t),c.a.createElement("div",{className:"coords"},c.a.createElement("span",{className:"x-coords"},n),c.a.createElement("span",{className:"y-coords"},a),c.a.createElement("span",{className:"z-coords"},r)),o>0&&c.a.createElement("span",{className:"hop-distance"},c.a.createElement(T,{distance:o})),i&&c.a.createElement("div",{className:"origin-badge"},c.a.createElement("span",null,"Origin System")))},B=n(4),A=function(e){return c.a.createElement("input",Object.assign({className:"search-bar",placeholder:"Enter system name..."},e))},J=n(8),W=n.n(J),D=n(28),F=n(29),I=n.n(F),L=function(){var e=Object(D.a)(W.a.mark((function e(t){var n,a,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.systemName,e.next=3,I.a.get("https://www.edsm.net/api-v1/systems",{params:{systemName:n,showCoordinates:1}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=function(e,t){var n=Object(a.useState)(),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){return i(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),r}(e,500),n=Object(a.useState)(!1),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),l=u[0],m=u[1];return Object(a.useEffect)((function(){t?(i(!0),L({systemName:t}).then((function(e){return m(e)})).then((function(){return i(!1)}))):(i(!1),m([]))}),[t]),[r,l]},$=function(e){var t=e.onCancel,n=e.onSystemChosen,r=Object(a.useState)(""),i=Object(s.a)(r,2),o=i[0],u=i[1],l=R(o),m=Object(s.a)(l,2),f=m[0],p=m[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(A,{onChange:function(e){return u(e.target.value)},onBlur:function(e){e.target.value||t()}}),f&&c.a.createElement("h2",null,"Loading..."),!f&&p.map((function(e){var t=e.name,a=e.coords;return c.a.createElement(z,Object.assign({key:"System-".concat(t),name:t},a,{onClick:function(){return n(Object(B.a)({name:t},a))}}))})))},q=function(e){var t=e.distance;return c.a.createElement("p",{className:"Distance"},"Round trip: ",c.a.createElement(T,{distance:t}))},G=n(30),H=n.n(G),K=n(2),P=K.map.convert({cap:!1}),Q=Object(K.reduce)((function(e,t){return e+t.distance}),0),U=function(e,t){return Object(K.flow)(Object(K.map)((function(e){return function(e){return P((function(t,n){return 0===n?Object(B.a)({},t,{distance:0}):Object(B.a)({},t,{distance:(a=e[n-1],c=t,Math.pow(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)+Math.pow(c.z-a.z,2),.5))});var a,c}))(e)}(e)})),Object(K.map)((function(e){return{route:e,distance:Q(e)}})),Object(K.sortBy)("distance"),K.first)(function(e,t){return Object(K.flow)(Object(K.map)((function(e){return e.name})),H.a,Object(K.map)((function(n){return[Object(B.a)({},e,{isOrigin:!0})].concat(Object(o.a)(Object(K.map)((function(e){return Object(K.find)({name:e})(t)}))(n)),[Object(B.a)({},e,{isOrigin:!0})])})))(t)}(e,t))},V=(n(62),function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),l=Object(s.a)(i,2),m=l[0],f=l[1],p=Object(a.useState)("initial"),d=Object(s.a)(p,2),b=d[0],O=d[1],h=function(){return n?m.length?"showTrip":"showOrigin":"initial"},E=function(e){var t=e.children;return c.a.createElement("div",{className:"App"},t)},g=function(){return c.a.createElement(E,null,c.a.createElement(k,null),c.a.createElement(u,{onClick:function(){return O("chooseOrigin")}},"Set Origin System"))},j=function(){return c.a.createElement(E,null,c.a.createElement($,{onCancel:function(){return O(h())},onSystemChosen:function(e){r(e),O(m.length?"showTrip":"showOrigin")}}))},y=function(){return c.a.createElement(E,null,c.a.createElement(z,Object.assign({},n,{isOrigin:!0})),c.a.createElement(u,{onClick:function(){return O("addStop")}},"Add Stop"))},v=function(){return c.a.createElement(E,null,c.a.createElement($,{onCancel:function(){return O(h())},onSystemChosen:function(e){var t;t=e,f([].concat(Object(o.a)(m),[t])),O("showTrip")}}))},w=function(){var e=U(n,m),t=e.distance,a=e.route;return c.a.createElement(E,null,c.a.createElement(q,{distance:t}),a.map((function(e,t){return c.a.createElement(z,Object.assign({key:"hop-".concat(t)},e))})),c.a.createElement(u,{onClick:function(){return O("addStop")}},"Add Stop"))};switch(b){case"chooseOrigin":return c.a.createElement(j,null);case"showOrigin":return c.a.createElement(y,null);case"addStop":return c.a.createElement(v,null);case"showTrip":return c.a.createElement(w,null);default:return c.a.createElement(g,null)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.f6a4d29a.chunk.js.map