(this.webpackJsonpwallaby=this.webpackJsonpwallaby||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/bork.2b1c8b36.gif"},21:function(e,t,n){e.exports=n.p+"static/media/diemz.4f16c0f8.gif"},22:function(e,t,n){e.exports=n.p+"static/media/empty.bce677d0.gif"},23:function(e,t,n){e.exports=n.p+"static/media/friendship.f339e60f.gif"},24:function(e,t,n){e.exports=n.p+"static/media/greetings.b9200209.gif"},25:function(e,t,n){e.exports=n.p+"static/media/hiphop.c8a7d619.gif"},26:function(e,t,n){e.exports=n.p+"static/media/travel.f9a41121.gif"},27:function(e,t,n){e.exports=n.p+"static/media/wallaby.e83a4f50.gif"},32:function(e,t,n){e.exports=n(63)},37:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),i=n.n(r),o=(n(37),n(7)),s=n(3),u=n(1),l=n(8),m=function(e){var t=e.children,n=e.onClick,a=Object(l.a)(e,["children","onClick"]);return c.a.createElement("button",Object.assign({type:"button",className:"button",onClick:n},a),t)},f=n(20),d=n.n(f),p=n(21),b=n.n(p),O=n(22),h=n.n(O),E=n(23),g=n.n(E),j=n(24),v=n.n(j),y=n(25),w=n.n(y),S=n(26),N=n.n(S),x=n(27),k=n.n(x),C=[d.a,b.a,h.a,g.a,v.a,w.a,N.a,k.a],M=function(){return c.a.createElement("img",{className:"sidey",src:C[Math.floor(Math.random()*C.length)],alt:"waiting for user input..."})},T=n(28),z=function(e){var t=e.distance;return c.a.createElement(T.a,{value:t,displayType:"text",suffix:"ly",decimalScale:2,thousandSeparator:!0})},R=function(e){var t=e.name,n=e.x,a=e.y,r=e.z,i=e.isOrigin,o=e.distance,s=e.onRemove,u=Object(l.a)(e,["name","x","y","z","isOrigin","distance","onRemove"]);return c.a.createElement("div",Object.assign({className:"System"},u),c.a.createElement("div",{className:"system-meta"},c.a.createElement("div",{className:"system-meta-id"},i&&c.a.createElement("div",{className:"origin-badge"},c.a.createElement("span",null,"Origin System")),c.a.createElement("span",{className:"system-name"},t)),o>0&&c.a.createElement("span",{className:"hop-distance"},c.a.createElement(z,{distance:o}))),c.a.createElement("div",{className:"system-details"},c.a.createElement("div",{className:"coords"},c.a.createElement("span",{className:"x-coords"},n),c.a.createElement("span",{className:"y-coords"},a),c.a.createElement("span",{className:"z-coords"},r)),s&&c.a.createElement(m,{className:"remove-button",onClick:s},"X")))},B=n(4),A=function(e){return c.a.createElement("input",Object.assign({className:"search-bar",placeholder:"Enter system name..."},e))},F=n(9),J=n.n(F),W=n(29),D=n(30),I=n.n(D),L=function(){var e=Object(W.a)(J.a.mark((function e(t){var n,a,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.systemName,e.next=3,I.a.get("https://www.edsm.net/api-v1/systems",{params:{systemName:n,showCoordinates:1}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){var t=function(e,t){var n=Object(a.useState)(),c=Object(s.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){return i(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),r}(e,500),n=Object(a.useState)(!1),c=Object(s.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),l=u[0],m=u[1];return Object(a.useEffect)((function(){t?(i(!0),L({systemName:t}).then((function(e){return m(e)})).then((function(){return i(!1)}))):(i(!1),m([]))}),[t]),[r,l]},$=function(e){var t=e.onCancel,n=e.onSystemChosen,r=Object(a.useState)(""),i=Object(s.a)(r,2),o=i[0],u=i[1],l=X(o),m=Object(s.a)(l,2),f=m[0],d=m[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(A,{onChange:function(e){return u(e.target.value)},onBlur:function(e){e.target.value||t()}}),f&&c.a.createElement("h2",null,"Loading..."),!f&&d.map((function(e){var t=e.name,a=e.coords;return c.a.createElement(R,Object.assign({key:"System-".concat(t),name:t},a,{onClick:function(){return n(Object(B.a)({name:t},a))}}))})))},q=function(e){var t=e.distance;return c.a.createElement("span",{className:"Distance"},"Round trip: ",c.a.createElement(z,{distance:t}))},G=n(31),H=n.n(G),K=u.map.convert({cap:!1}),P=Object(u.reduce)((function(e,t){return e+t.distance}),0),Q=function(e,t){return Object(u.flow)(Object(u.map)((function(e){return function(e){return K((function(t,n){return 0===n?Object(B.a)({},t,{distance:0}):Object(B.a)({},t,{distance:(a=e[n-1],c=t,Math.pow(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)+Math.pow(c.z-a.z,2),.5))});var a,c}))(e)}(e)})),Object(u.map)((function(e){return{route:e,distance:P(e)}})),Object(u.sortBy)("distance"),u.first)(function(e,t){return Object(u.flow)(Object(u.map)((function(e){return e.name})),H.a,Object(u.map)((function(n){return[Object(B.a)({},e,{isOrigin:!0})].concat(Object(o.a)(Object(u.map)((function(e){return Object(u.find)({name:e})(t)}))(n)),[Object(B.a)({},e,{isOrigin:!0})])})))(t)}(e,t))},U=(n(62),function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),l=Object(s.a)(i,2),f=l[0],d=l[1],p=function(){return n?f.length?"showTrip":"showOrigin":"initial"},b=Object(a.useState)(p()),O=Object(s.a)(b,2),h=O[0],E=O[1],g=function(e){var t=e.children;return c.a.createElement("div",{className:"App"},t)},j=function(){return c.a.createElement(g,null,c.a.createElement(M,null),c.a.createElement(m,{onClick:function(){return E("chooseOrigin")}},"Set Origin System"))},v=function(){return c.a.createElement(g,null,c.a.createElement($,{onCancel:function(){return E(p())},onSystemChosen:function(e){r(e),E(f.length?"showTrip":"showOrigin")}}))},y=function(){return c.a.createElement(g,null,c.a.createElement(R,Object.assign({},n,{isOrigin:!0,onRemove:function(){return E("initial")}})),c.a.createElement(m,{onClick:function(){return E("addStop")}},"Add Stop"))},w=function(){return c.a.createElement(g,null,c.a.createElement($,{onCancel:function(){return E(p())},onSystemChosen:function(e){var t;t=e,d([].concat(Object(o.a)(f),[t])),E("showTrip")}}))},S=function(){if(0===f.length)return E("showOrigin"),c.a.createElement(c.a.Fragment,null);var e=Q(n,f),t=e.distance,a=e.route;return c.a.createElement(g,null,c.a.createElement(q,{distance:t}),c.a.createElement(m,{onClick:function(){return E("addStop")}},"Add Stop"),a.map((function(e,t){return c.a.createElement(R,Object.assign({key:"hop-".concat(t)},e,{onRemove:function(){var t;e.isOrigin?E("initial"):(t=e.name,d(Object(u.reject)({name:t})(f)))}}))})))};switch(h){case"chooseOrigin":return c.a.createElement(v,null);case"showOrigin":return c.a.createElement(y,null);case"addStop":return c.a.createElement(w,null);case"showTrip":return c.a.createElement(S,null);default:return c.a.createElement(j,null)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.029b01bf.chunk.js.map